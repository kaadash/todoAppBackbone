var TodoView=Backbone.View.extend({tagName:"li",events:{"dblclick label":"edit","blur .edit":"close","keypress .edit":"updateOnEnter","click .delete":"delete"},template:_.template($("#item-template").html()),initialize:function(){this.model.on("change",this.render,this),this.model.on("destroy",this.remove,this),this.render()},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.input=this.$(".edit"),this},edit:function(){this.$el.addClass("editing"),this.input.focus()},close:function(){var e=this.input.val();e&&this.model.set({title:e}),this.$el.removeClass("editing")},updateOnEnter:function(e){13===e.which&&this.close()},"delete":function(){this.model.destroy()}});